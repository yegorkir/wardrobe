[gd_scene load_steps=15 format=3 uid="uid://c6kv1r1uwxk7g"]

[ext_resource type="Script" uid="uid://d06di0ecjdy70" path="res://scripts/ui/workdesk_scene.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://b1vy45o0cbxlk" path="res://scenes/prefabs/StorageCabinetLayout_Simple.tscn" id="2"]
[ext_resource type="PackedScene" uid="uid://bbsuw6pn2oo58" path="res://scenes/prefabs/DeskServicePoint_Workdesk.tscn" id="3"]
[ext_resource type="Script" uid="uid://c1jb2jnhticws" path="res://scripts/wardrobe/cursor_hand.gd" id="4"]
[ext_resource type="Script" uid="uid://ce2nlf0hgoh2r" path="res://scripts/ui/wardrobe_physics_tick_adapter.gd" id="5"]
[ext_resource type="Script" uid="uid://bpqv5b0mctves" path="res://scripts/ui/floor_zone_adapter.gd" id="6"]
[ext_resource type="Script" uid="uid://ctgc601ixkj3a" path="res://scripts/ui/queue_hud_view.gd" id="7"]
[ext_resource type="Script" uid="uid://b5uji3ko74ljn" path="res://scripts/ui/light/light_zones_adapter.gd" id="8"]
[ext_resource type="PackedScene" uid="uid://qavqeudwaxgi" path="res://scenes/prefabs/lighting/CurtainRig.tscn" id="9"]
[ext_resource type="Script" uid="uid://cmkm6ndpiit7d" path="res://scripts/wardrobe/lights/bulb_light_adapter.gd" id="10"]

[sub_resource type="RectangleShape2D" id="101"]
size = Vector2(370, 498)

[sub_resource type="RectangleShape2D" id="102"]
size = Vector2(371, 663)

[sub_resource type="RectangleShape2D" id="3"]
size = Vector2(720, 6)

[sub_resource type="RectangleShape2D" id="2"]
size = Vector2(720, 54)

[node name="WorkdeskScene" type="Node2D"]
script = ExtResource("1")

[node name="WardrobePhysicsTick" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("5")

[node name="StorageHall" type="Node2D" parent="."]
position = Vector2(0, 40)

[node name="CabinetsGrid" type="Node2D" parent="StorageHall"]
position = Vector2(180, 413)

[node name="Cabinet_100" parent="StorageHall/CabinetsGrid" instance=ExtResource("2")]
position = Vector2(-9, -140)
cabinet_id = &"Cab_100"

[node name="Cabinet_010" parent="StorageHall/CabinetsGrid" instance=ExtResource("2")]
position = Vector2(191, -140)
cabinet_id = &"Cab_010"

[node name="Cabinet_001" parent="StorageHall/CabinetsGrid" instance=ExtResource("2")]
position = Vector2(391, -140)
cabinet_id = &"Cab_001"

[node name="Cabinet_200" parent="StorageHall/CabinetsGrid" instance=ExtResource("2")]
position = Vector2(-9, 360)
cabinet_id = &"Cab_200"

[node name="Cabinet_020" parent="StorageHall/CabinetsGrid" instance=ExtResource("2")]
position = Vector2(191, 360)
cabinet_id = &"Cab_020"

[node name="Cabinet_002" parent="StorageHall/CabinetsGrid" instance=ExtResource("2")]
position = Vector2(391, 360)
cabinet_id = &"Cab_002"

[node name="CurtainRig" parent="StorageHall" instance=ExtResource("9")]

[node name="BulbsColumn" type="Node2D" parent="StorageHall"]
position = Vector2(692, 456)

[node name="BulbRow0" type="Node2D" parent="StorageHall/BulbsColumn"]
position = Vector2(0, -330)
script = ExtResource("10")
visual_node = NodePath("Visual")

[node name="Visual" type="ColorRect" parent="StorageHall/BulbsColumn/BulbRow0"]
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
mouse_filter = 2
metadata/_edit_use_anchors_ = true

[node name="BulbRow1" type="Node2D" parent="StorageHall/BulbsColumn"]
position = Vector2(0, 170)
script = ExtResource("10")
row_index = 1
visual_node = NodePath("Visual")

[node name="Visual" type="ColorRect" parent="StorageHall/BulbsColumn/BulbRow1"]
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
mouse_filter = 2
metadata/_edit_use_anchors_ = true

[node name="BulbRow0Zone" type="Area2D" parent="StorageHall"]
position = Vector2(600, 273)
collision_layer = 0
collision_mask = 0
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="StorageHall/BulbRow0Zone"]
position = Vector2(-65, 49)
shape = SubResource("101")

[node name="LightVisual" type="ColorRect" parent="StorageHall/BulbRow0Zone/CollisionShape2D"]
offset_left = -185.0
offset_top = -249.5
offset_right = 185.0
offset_bottom = 250.0
mouse_filter = 2
color = Color(1, 1, 1, 0.15)

[node name="BulbRow1Zone" type="Area2D" parent="StorageHall"]
position = Vector2(600, 773)
collision_layer = 0
collision_mask = 0
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="StorageHall/BulbRow1Zone"]
position = Vector2(-64.5, 130.5)
shape = SubResource("102")

[node name="LightVisual" type="ColorRect" parent="StorageHall/BulbRow1Zone/CollisionShape2D"]
offset_left = -185.5
offset_top = -332.5
offset_right = 185.5
offset_bottom = 324.5
mouse_filter = 2
color = Color(1, 1, 1, 0.15)

[node name="LightZonesAdapter" type="Node2D" parent="StorageHall"]
script = ExtResource("8")
curtain_zone_path = NodePath("../CurtainRig/CurtainZone")
bulb_row0_zone_path = NodePath("../BulbRow0Zone")
bulb_row1_zone_path = NodePath("../BulbRow1Zone")
curtain_adapter_path = NodePath("../CurtainRig/CurtainsColumn/CurtainLightAdapter")

[node name="FloorZone1" type="Node2D" parent="StorageHall"]
position = Vector2(0, 515.26)
script = ExtResource("6")

[node name="SurfaceBody" type="StaticBody2D" parent="StorageHall/FloorZone1"]
collision_layer = 8
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="StorageHall/FloorZone1/SurfaceBody"]
position = Vector2(360, 0)
shape = SubResource("3")

[node name="DropArea" type="Area2D" parent="StorageHall/FloorZone1"]
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="StorageHall/FloorZone1/DropArea"]
position = Vector2(360, 0)
shape = SubResource("2")

[node name="FloorZone" type="Node2D" parent="StorageHall/FloorZone1/DropArea"]

[node name="ItemsRoot" type="Node2D" parent="StorageHall/FloorZone1/DropArea"]

[node name="SurfaceRef" type="Node2D" parent="StorageHall/FloorZone1"]
position = Vector2(360, 0)

[node name="FloorZone2" type="Node2D" parent="StorageHall"]
position = Vector2(0, 1003)
script = ExtResource("6")

[node name="SurfaceBody" type="StaticBody2D" parent="StorageHall/FloorZone2"]
collision_layer = 8
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="StorageHall/FloorZone2/SurfaceBody"]
position = Vector2(360, 0)
shape = SubResource("3")

[node name="DropArea" type="Area2D" parent="StorageHall/FloorZone2"]
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="StorageHall/FloorZone2/DropArea"]
position = Vector2(360, 0)
shape = SubResource("2")

[node name="FloorZone" type="Node2D" parent="StorageHall/FloorZone2/DropArea"]

[node name="ItemsRoot" type="Node2D" parent="StorageHall/FloorZone2/DropArea"]

[node name="SurfaceRef" type="Node2D" parent="StorageHall/FloorZone2"]
position = Vector2(360, 0)

[node name="ServiceZone" type="Node2D" parent="."]
position = Vector2(0, 723)

[node name="ServiceSlots" type="Node2D" parent="ServiceZone"]
position = Vector2(240, 516)

[node name="Desk_A" parent="ServiceZone/ServiceSlots" instance=ExtResource("3")]
desk_id = &"Desk_A"
desk_slot_id = &"DeskSlot_0"

[node name="Desk_B" parent="ServiceZone/ServiceSlots" instance=ExtResource("3")]
position = Vector2(220, 0)
desk_id = &"Desk_B"
desk_slot_id = &"DeskSlot_1"

[node name="HandRoot" type="Node2D" parent="."]
z_index = 1000
z_as_relative = false

[node name="CursorHand" type="Node2D" parent="HandRoot"]
unique_name_in_owner = true
script = ExtResource("4")

[node name="HUDLayer" type="CanvasLayer" parent="."]

[node name="LightControls" type="Control" parent="HUDLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="CurtainSlider" type="VSlider" parent="HUDLayer/LightControls"]
layout_mode = 0
offset_left = 48.0
offset_top = 1210.0
offset_right = 64.0
offset_bottom = 1360.0
rotation = 3.1415927
max_value = 1.0
step = 0.1

[node name="QueueHudView" type="Control" parent="HUDLayer"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 64.0
grow_horizontal = 2
mouse_filter = 2
script = ExtResource("7")

[node name="QueueHudPanel" type="PanelContainer" parent="HUDLayer/QueueHudView"]
layout_mode = 0
anchor_right = 1.0
offset_bottom = 64.0
mouse_filter = 2

[node name="QueueHudRow" type="HBoxContainer" parent="HUDLayer/QueueHudView/QueueHudPanel"]
layout_mode = 2
mouse_filter = 2

[node name="QueueItems" type="HBoxContainer" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
mouse_filter = 2

[node name="QueueKpis" type="VBoxContainer" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow"]
layout_mode = 2
size_flags_horizontal = 4
mouse_filter = 2

[node name="CheckinRow" type="HBoxContainer" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueKpis"]
layout_mode = 2
mouse_filter = 2

[node name="CheckinLabel" type="Label" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueKpis/CheckinRow"]
layout_mode = 2
text = "In:"

[node name="RemainingCheckinValue" type="Label" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueKpis/CheckinRow"]
unique_name_in_owner = true
layout_mode = 2
text = "-"

[node name="CheckoutRow" type="HBoxContainer" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueKpis"]
layout_mode = 2
mouse_filter = 2

[node name="CheckoutLabel" type="Label" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueKpis/CheckoutRow"]
layout_mode = 2
text = "Out:"

[node name="RemainingCheckoutValue" type="Label" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueKpis/CheckoutRow"]
unique_name_in_owner = true
layout_mode = 2
text = "-"

[node name="QueueIndicators" type="VBoxContainer" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow"]
layout_mode = 2
size_flags_horizontal = 4
mouse_filter = 2

[node name="QueueStrikesValue" type="Label" parent="HUDLayer/QueueHudView/QueueHudPanel/QueueHudRow/QueueIndicators"]
unique_name_in_owner = true
layout_mode = 2
text = "Strikes: -/-"

[node name="EndShiftButton" type="Button" parent="HUDLayer"]
unique_name_in_owner = true
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -180.0
offset_top = -60.0
offset_right = -20.0
offset_bottom = -20.0
text = "End Shift (debug)"
