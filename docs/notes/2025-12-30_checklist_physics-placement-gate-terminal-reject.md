# Checklist: Physics placement gate + terminal reject

- [x] Review analysis and confirm scope for R1/R5/R2/R2.5 refactor.
- [x] Add SSOT layer/mask/group configuration and update runtime adapters to consume it.
- [x] Normalize `ItemNode` geometry API (AABB, bottom Y, snap) and align usage across adapters.
- [x] Implement floor-only pass-through and explicit reject-fall state in `ItemNode`.
- [x] Add `SurfaceRegistry` autoload and wire shelf/floor registration and cleanup.
- [x] Refactor overlap resolution to use `PhysicsPlacementGate` decisions (ALLOW/ALLOW_NUDGE/REJECT).
- [x] Make reject terminal by triggering pass-through fall until floor and skipping overlap while falling.
- [x] Enforce stable immunity by removing neighbor impulses during overlap nudges.
- [x] Update drag/drop floor selection to use registry and bottom-Y-based thresholds.
- [x] Sync collision layers/masks in relevant prefabs/scenes with SSOT.
- [x] Add integration tests for layers and geometry contracts.
- [x] Centralize SurfaceRegistry access via a single helper and remove direct `/root` lookups.
- [x] Introduce `WardrobeSurface2D` base contract and update shelf/floor adapters + registry types.
- [x] Add ItemNode surface ownership helpers to remove items without group scans.
- [x] Align pass-through restore threshold with floor contact (bottom Y + epsilon).
- [x] Enforce `WardrobeSurface2D` as the only registry contract with ItemNode-typed methods and typed arrays.
- [x] Switch all registry access to the autoload accessor (`SurfaceRegistryService.get_autoload()`).
- [x] Replace overlap decision dictionaries with `PhysicsGateResult` (typed decision/reason).
- [x] Fix enum assignment warnings in the tick adapter with explicit casts.
- [x] Add ItemNode drop-reason state for REJECT and use it as the gameplay truth source.
- [x] Add functional test scene and suite for reject fall item-item non-interaction.
- [x] Remove item-item collisions from default masks and move item overlap detection to query masks.
- [x] Ensure drop-to-floor pass-through uses reject-fall state for consistent gameplay reasoning.
- [x] Make reject-fall idempotent to avoid duplicate state changes.
- [x] Prevent repeated floor-drop when an item is already in reject fall.
- [x] Resolve ItemNode reject-falling parse error (rename backing field).
- [x] Run `GODOT_TEST_HOME="$PWD/.godot_test_home_persist" task tests`.
- [x] Launch Godot with `"$GODOT_BIN" --path .`.
